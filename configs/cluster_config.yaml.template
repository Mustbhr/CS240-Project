# Cluster Configuration Template
# Copy this to cluster_config.yaml and adjust for your setup

# Cluster Type
cluster_type: "ibex"  # or "aws" or "local"

# Node Configuration
nodes:
  - id: "node-0"
    hostname: "node0.example.com"
    gpus: 4
    memory_gb: 128
    role: "master"
  
  - id: "node-1"
    hostname: "node1.example.com"
    gpus: 4
    memory_gb: 128
    role: "worker"
  
  - id: "node-2"
    hostname: "node2.example.com"
    gpus: 4
    memory_gb: 128
    role: "worker"
  
  - id: "node-3"
    hostname: "node3.example.com"
    gpus: 4
    memory_gb: 128
    role: "worker"

# Network Configuration
network:
  master_addr: "node0.example.com"
  master_port: 29500
  backend: "nccl"
  
  # Agent Communication
  agent_port: 29501
  heartbeat_interval: 10  # seconds
  heartbeat_timeout: 30  # seconds

# IBEX-specific (if using KAUST cluster)
ibex:
  partition: "batch"
  time_limit: "24:00:00"
  nodes: 4
  gpus_per_node: 4
  conda_env: "gemini-env"

# AWS-specific (if using AWS)
aws:
  region: "us-east-1"
  instance_type: "p3.8xlarge"
  ami: "ami-xxxxx"
  key_pair: "your-keypair"
  security_group: "sg-xxxxx"

# Storage
storage:
  checkpoint_dir: "/path/to/checkpoints"
  data_dir: "/path/to/data"
  results_dir: "./results"
  
# etcd Configuration (for coordination)
etcd:
  endpoints:
    - "http://node0.example.com:2379"
  prefix: "/gemini"

